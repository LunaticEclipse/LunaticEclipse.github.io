<!DOCTYPE html>
<html>

<head>

	<style>

		body{
			background-color: #000435;
		}

	</style>

</head>


<body>

<canvas id="danmaku" width="1450" height="800" style="border:0px solid #000000;"></canvas>


<p id="1"></p>

<script type="text/javascript" src="mathFunctions.js"></script>
<script type="text/javascript" src="danmaku.js"></script>



<script>

	var x = cx;
	var y = cy+300;
	toggle = true;

	

	function pattern(){

		if(t%8 == 0){
			for(let i = 0; i<5; i++){

				shoot(cx+210*cos(i*2*pi/5+pi/2), (cy-150)+210*sin(i*2*pi/5+pi/2), 1, cos(t/1000)*t/50+i*2*pi/5+pi/2,"#aa00aa")
				shoot(cx+210*cos(i*2*pi/5+pi/2), (cy-150)+210*sin(i*2*pi/5+pi/2), 1, -cos(t/1000)*t/50+i*2*pi/5+pi/2,"#aa00aa")

			}
		}

		if(t%40 == 0){
			for(let i = 0; i<3; i++){
				shoot(cx+210*cos(t/100+i*2*pi/3+pi/2), (cy-150)+210*sin(t/100+i*2*pi/3+pi/2), 1, Math.random()*3*pi/4 + pi,"#ffd700")
				addPattern(count-1, 50, 1, 0, 1, aim(bullets[count-1].x, bullets[count-1].y, x, y), 0, "#ffd700")
			}
		}

		if(t%1500 == 1499){
			t++;
			for(let i = 0; i<100; i++){
				pattern()
				WASD();
				draw();
			}
		}
	}

	function mainLoop(){
		pattern();
		WASD();
		draw();
		
		t++;
	}
	setInterval(mainLoop, 10);	

</script>



</body>
</html>
