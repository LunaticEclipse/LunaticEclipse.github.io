<!DOCTYPE html>
<html>
<body>

<canvas id="danmaku" width="1500" height="1000" style="border:0px solid #000000;"></canvas>

<script type="text/javascript" src="mathFunctions.js"></script>
<script type="text/javascript" src="danmaku.js"></script>


<script>
	// player starting position!!
	var x = cx-50;
	var y = 600;

	function pattern(){
		if(t%5 == 1){
			if(t<1500){
				for(let i = 0; i<8; i++){
					let j = i*pi/4;
					sx = 750+(50+sqrt(100*t))*cos(j+t/160);
					sy = 375+(50+sqrt(100*t))*sin(j+t/160);
					shoot1(sx, sy, -0.2, j+t/50+pi/5, "#000000");
				}
			} else if (t>=1500 && t<=3000){
				for(let i = 0; i<8; i++){
					let j = i*pi/4;
					sx = 750+(50+sqrt(100*(3000-t)))*cos(j+t/160);
					sy = 375+(50+sqrt(100*(3000-t)))*sin(j+t/160);
					shoot1(sx, sy, -0.2, j+(3000-t)/50+pi/5, "#000000");
				}
			} else {
				t = 0;
			}
		}
	}

	function mainLoop(){
		pattern();
		WASD()
		draw();
		t++;
	}
	setInterval(mainLoop, 5);	

</script>



</body>
</html>