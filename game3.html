<!DOCTYPE html>
<html>
<body>

<canvas id="screen" width="1000" height="600" style="border:3px solid #000000;"></canvas>


<script>

var canvas = document.getElementById("screen");
var ctx = canvas.getContext("2d");
var pi = Math.PI

var x = 500;
var y = 300;

var dx = 0;
var dy = 0;

function mainLoop(){
	draw();
	move();
	WASD();
}





function draw(){
	ctx.clearRect(0,0,1000,600);		//clear the screen


	ctx.beginPath();
	ctx.arc(x, y, 10, 0, pi*2);		//draw the ball at (x, y)
	ctx.fillStyle = "#0000FF";
	ctx.fill();
	ctx.closePath();
}






function move(){
	x += dx;
	y += dy;

	//add focus mode
}






function WASD(){
	window.addEventListener("keydown", function (event) {
  if (event.defaultPrevented) {
    return; // Do nothing if the event was already processed
  }

  switch (event.key) {
    case "ArrowDown":
      dy = 2;
      break;
    case "ArrowUp":
      dy = -2;
      break;
    case "ArrowLeft":
      dx = -2;
      break;
    case "ArrowRight":
      dx = 2;
      break;
    default:
      return; // Quit when this doesn't handle the key event.
  }

  // Cancel the default action to avoid it being handled twice
  event.preventDefault();
	
	}, true);
	// the last option dispatches the event to the listener first,
	// then dispatches event to window



	window.addEventListener("keyup", function (event) {
  if (event.defaultPrevented) {
    return; 
  }

  switch (event.key) {
    case "ArrowDown":
      dy = 0;
      break;
    case "ArrowUp":
      dy = 0;
      break;
    case "ArrowLeft":
      dx = 0;
      break;
    case "ArrowRight":
      dx = 0;
      break;
    default:
      return; // Quit when this doesn't handle the key event.
  }

  // Cancel the default action to avoid it being handled twice
  event.preventDefault();
	
	}, true);

}








setInterval(mainLoop, 5);					//loop "mainLoop" function every 10ms



</script>





</body>
</html>